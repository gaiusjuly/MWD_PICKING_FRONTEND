(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-c2e2cbbe"],{"0803":function(t,e,a){"use strict";a.r(e);var i,s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("main-layout",[a("div",{staticClass:"section"},[a("div",{staticClass:"section-wrap"},[a("div",{staticClass:"search-area"},[a("ul",{staticClass:"accordion"},[a("div",{staticClass:"main-search-area"},[a("div",{staticClass:"input-area"},[a("div",{staticClass:"row"},[a("div",{staticClass:"input-set",staticStyle:{width:"37%"}},[a("div",{staticClass:"input-lable"},[t._v("배송일자")]),a("input",{attrs:{type:"text",id:"deliDate","data-role":"calendarpicker","data-dialog-mode":"true"}}),a("div",{staticClass:"calendar-btn-area"},[a("button",{staticClass:"btn btn-md btn-grey-outline ic-arrow-left",attrs:{type:"button"},on:{click:t.dateminus}},[a("span",[t._v("이전")])]),a("button",{staticClass:"btn btn-md btn-grey-outline ic-arrow-right",attrs:{type:"button"},on:{click:t.dateplus}},[a("span",[t._v("다음")])])])]),a("div",{staticClass:"input-set",staticStyle:{width:"18%"}},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.pickData.status,expression:"pickData.status"}],on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.pickData,"status",e.target.multiple?a:a[0])}}},[a("option",{attrs:{value:""}}),t._l(this.getOMS_DELI_METHOD,(function(e){return a("option",{key:e.ETC_CODE,domProps:{value:e.ETC_CODE}},[t._v(" "+t._s(e.ETC_NAME)+" ")])}))],2)]),a("div",{staticClass:"input-set",staticStyle:{width:"20%"}},[a("div",{staticClass:"input-lable"},[t._v("회차")]),a("select",{directives:[{name:"model",rawName:"v-model",value:t.pickData.deliOrder,expression:"pickData.deliOrder"}],on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.pickData,"deliOrder",e.target.multiple?a:a[0])}}},[a("option",{attrs:{value:""}}),t._l(this.getOMS_DELI_ORDER,(function(e){return a("option",{key:e.ETC_CODE,domProps:{value:e.ETC_CODE}},[t._v(" "+t._s(e.ETC_NAME)+" ")])}))],2)])])]),a("div",{staticClass:"btn-search-area"},[a("button",{staticClass:"btn btn-search btn-bk",attrs:{type:"button"},on:{click:t.getManualPicks}},[a("span",[t._v("검색")])])])])])]),a("div",{staticClass:"main-table"},[a("div",{staticClass:"table-title-area"},[a("div",{staticClass:"table-total"},[t._v("총 주문건"),t.getManualPickList.length>0?a("span",{staticClass:"text-primary"},[t._v(t._s(t.getManualPickList[0].cnt))]):t._e()]),a("div",{staticClass:"table-btn-area"},[a("button",{staticClass:"btn btn-ml btn-primary btn-ic ic-check-wh",attrs:{type:"button"},on:{click:t.doPick}},[t._v("피킹")])])]),a("div",{staticClass:"table-lg"},[a("table",[a("colgroup",[a("col",{attrs:{width:"50px"}}),a("col"),a("col",{attrs:{width:"10%"}}),a("col",{attrs:{width:"8%"}}),a("col",{attrs:{width:"8%"}}),a("col",{attrs:{width:"10%"}}),a("col",{attrs:{width:"8%"}}),a("col",{attrs:{width:"8%"}}),a("col",{attrs:{width:"8%"}})]),a("thead",[a("tr",[a("th",[a("div",{staticClass:"only-check"},[a("div",{staticClass:"checkbox"},[a("input",{attrs:{id:"checkall",type:"checkbox"},on:{click:t.doallcheck}}),a("label",{staticClass:"checkbox-label",attrs:{for:"checkall"}})])])]),a("th",[t._v("상품명")]),a("th",[t._v("주문번호")]),a("th",[t._v("주문자")]),a("th",[t._v("피킹수량")]),a("th",[t._v("보관/상차")]),a("th",[t._v("상태")]),a("th",[t._v("출력")]),a("th",[t._v("담당자")])])]),this.getManualPickList.length>0?a("tbody",t._l(t.getManualPickList,(function(e,i){return a("tr",{key:i},[a("td",[a("div",{staticClass:"only-check"},[a("div",{staticClass:"checkbox"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.getManualPickList[i].checked,expression:"getManualPickList[index].checked"}],attrs:{id:t.getManualPickList[i].orderCode,value:"getManualPickList[index].orderCode",name:"chk",type:"checkbox"},domProps:{checked:Array.isArray(t.getManualPickList[i].checked)?t._i(t.getManualPickList[i].checked,"getManualPickList[index].orderCode")>-1:t.getManualPickList[i].checked},on:{click:function(e){return t.selectpick(i)},change:function(e){var a=t.getManualPickList[i].checked,s=e.target,c=!!s.checked;if(Array.isArray(a)){var o="getManualPickList[index].orderCode",l=t._i(a,o);s.checked?l<0&&t.$set(t.getManualPickList[i],"checked",a.concat([o])):l>-1&&t.$set(t.getManualPickList[i],"checked",a.slice(0,l).concat(a.slice(l+1)))}else t.$set(t.getManualPickList[i],"checked",c)}}}),a("label",{staticClass:"checkbox-label",attrs:{for:t.getManualPickList[i].orderCode}})])])]),a("td",{staticClass:"text-left"},[a("div",{staticClass:"pr-content link modal-open pr-modal"},[a("div",{staticClass:"pr-text",on:{click:function(e){return t.openTotBox(0,t.getManualPickList[i].deliNo,"*",t.getManualPickList[i].orderName,"1",t.getManualPickList[i].deliDetailSeq,t.getManualPickList[i].qty,t.getManualPickList[i].pickQty,t.getManualPickList[i].status,"E",t.getManualPickList[i].productId,t.getManualPickList[i].orderCode,t.getManualPickList[i].saleMoney)}}},[t._v(t._s(t.getManualPickList[i].productName))])])]),a("td",[a("span",{staticClass:"link modal-open list-modal"},[t._v(t._s(t.getManualPickList[i].orderCode))])]),a("td",[t._v(t._s(t.getManualPickList[i].orderName))]),a("td",{staticClass:"bg-pink"},[a("span",{staticClass:"text-primary bold"},[t._v(t._s(t.getManualPickList[i].pickQty))]),t._v("/"+t._s(t.getManualPickList[i].qty))]),a("td",[t._v(t._s(t.getManualPickList[i].deliSaveCode)+"/")]),a("td",{staticClass:"text-primary"},[t._v(t._s(t.getManualPickList[i].statusName))]),a("td",{staticClass:"text-blue"},[t._v(t._s(t.getManualPickList[i].variantPrintCnt))]),a("td")])})),0):t._e()]),a("div",{ref:"pagenation",staticClass:"pagenation"},[a("ul",{ref:"pageView",attrs:{id:"pageView"}})])])])]),a("div",{staticClass:"pos-fixed pos-center"},[a("Loader",{directives:[{name:"show",rawName:"v-show",value:t.isLoading,expression:"isLoading"}]})],1)]),a("tot-box",{ref:"productpickcomponent",attrs:{deliNo:t.deliNo},on:{"modal-close":t.closeModal,"limit-open":t.limitopen,"alter-open":t.alteropen,"alter-close":t.alterclose,"pass-totetype":t.passtotetype}}),a("AlterProduct",{ref:"altercomponent",on:{"alter-close":t.alterclose}})],1)},c=[],o=a("5530"),l=a("1da1"),n=a("ade3"),r=(a("a9e3"),a("b0c0"),a("7db0"),a("96cf"),a("3d20")),d=a.n(r),u=a("a026"),p=a("2ef0"),g=a.n(p),k=a("1157"),h=a.n(k),v=a("4b6a"),m=a.n(v),f=a("2ead"),M=a.n(f),b=a("8e31"),C=a("2040"),P=a("84bd"),L=a("2f62"),_=a("d2dd"),y=a("9187");u["default"].use(M.a);var D={name:"ManualPick",components:{MainLayout:b["a"],Loader:C["a"],TotBox:_["a"],AlterProduct:y["a"]},data:function(){var t;return{deliNo:"",page:1,productId:"",imgUrl:"",qty:0,salePrice:0,orderCode:"",pickQty:0,pickData:(t={groupCode:"",sPringOutLayer:"",deliDate:"",deliDiv:"",deliOrder:"1",pickArea:"A",status:"1",deliNo:"",orderName:"",pickerName:""},Object(n["a"])(t,"deliNo",""),Object(n["a"])(t,"pageGroup",1),Object(n["a"])(t,"limit",6),Object(n["a"])(t,"cnt",0),t),pageGroup:1,limit:6,cnt:0}},methods:(i={getManualPicks:function(){var t=this;return Object(l["a"])(regeneratorRuntime.mark((function e(){var a,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return h()("#checkall").prop("checked",!1),console.log("this.page",t.page),t.pickData.deliDate=h()("#deliDate").val().length>8?h()("#deliDate").val().replaceAll("-",""):"",t.pickData.pageGroup=t.page>1?6*(t.page-1)+1:t.page,console.log("this.pageGroup",t.pickData.pageGroup),t.pickData.limit=t.pickData.pageGroup+5,a=Object.assign({},t.pickData),console.log("senddata is ",a),e.next=10,t.$store.dispatch("ManualStore/getManualPickList",a);case 10:for(console.log(t.getManualPickList),i=0;i<t.getManualPickList.length;i++)t.getManualPickList[i]=Object.assign(t.getManualPickList[i],{checked:!1});t.getManualPickList.length>0?(console.log("this.getManualPickList[0].cnt",t.getManualPickList[0].cnt),Object(P["a"])(t,t.page,t.getManualPickList[0].cnt,6)):Object(P["a"])(t,t.page,0,6);case 13:case"end":return e.stop()}}),e)})))()},limitopen:function(){h()("#for-replace-over-modal").fadeIn(300),h()("#for-tote-box-modal").fadeOut(300)},limitclose:function(){h()("#for-replace-over-modal").fadeOut(300),h()("#for-tote-box-modal").fadeIn(300)},alteropen:function(){console.log("Selected good",this.getGood);var t={IMG_URL:this.imgUrl,QTY:this.qty,SALE_PRICE:this.salePrice,ORDER_CODE:this.orderCode},e={DELI_NO:this.deliNo,DELI_DETAIL_SEQ:this.deliDetailSeq,PICK_AREA:"E",MASTER_CART_CODE:"*"};this.$refs.altercomponent.setValue(t,e,"","0","M","*"),h()("#for-replace-modal").fadeIn(300),h()("#for-tote-box-modal").fadeOut(300)},alterclose:function(){h()("#for-replace-modal").fadeOut(300),h()("#for-tote-box-modal").fadeIn(300)},openTotBox:function(){},closeModal:function(){h()(".modal").fadeOut(300),h()("body").css("overflow","visible"),this.getManualPicks()}},Object(n["a"])(i,"openTotBox",(function(t,e,a,i,s,c,o,l,n,r,d,u,p){console.log(e),console.log(c),this.deliNo=e,this.deliDetailSeq=c,this.productId=d,this.imgUrl="",this.qty=o,this.salePrice=p,this.orderCode=u,this.pickQty=l,this.$refs.productpickcomponent.setqty(Number(o),Number(l),d,n,"",s,r,e+""+c,[],i,a,c),h()("#for-tote-box-modal").fadeIn(300),this.$refs.productpickcomponent.setInputFocus()})),Object(n["a"])(i,"passtotetype",(function(t,e){console.log("parent totetype has passed",t,e),this.toteType=t,this.cartCode=e})),Object(n["a"])(i,"onClickApp",(function(t){if(null!=this.getManualPickList&&"chk"!==t.target.name&&!g.a.isUndefined(t.target.name)&&!(this.getManualPickList.length<1||0===t.target.id.length||isNaN(t.target.id))){var e=Math.ceil(this.getManualPickList[0].CNT/6),a=this.page,i=Number(t.target.id);if(console.log("currentpage is ",a),console.log("target page",t.target.id),console.log("max page is",e),(e!==a||9999!==i&&999!==i)&&(1!==a||8888!==i&&888!==i)){var s=i;888===i&&(s=a-1),999===i&&(s=a+1),8888===i&&(s=1),9999===i&&(s=e),a!==s&&(console.log("caculation page is ",s),this.page=s,this.getManualPicks())}}})),Object(n["a"])(i,"dateminus",(function(){var t=h()("#deliDate").val();t.length<1||h()("#deliDate").val(this.$moment(t).subtract(1,"days").format("YYYY-MM-DD"))})),Object(n["a"])(i,"dateplus",(function(){var t=h()("#deliDate").val();t.length<1||h()("#deliDate").val(this.$moment(t).add(1,"days").format("YYYY-MM-DD"))})),Object(n["a"])(i,"selectpick",(function(t){console.log("checkbox",t),this.getManualPickList[t].checked=!this.getManualPickList[t].checked,console.log(this.getManualPickList[t].checked)})),Object(n["a"])(i,"doallcheck",(function(){for(var t=0;t<this.getManualPickList.length;t++)this.getManualPickList[t].checked=!this.getManualPickList[t].checked;h()("#checkall").prop("checked")?h()("input[name=chk]").prop("checked",!0):h()("input[name=chk]").prop("checked",!1)})),Object(n["a"])(i,"doPick",(function(){var t=this;d.a.fire({title:"피킹처리하시겠습니까!",text:"",type:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"피킹",cancelButtonText:"취소!"}).then((function(e){if("cancel"!==e.dismiss&&e){for(var a={status:"15",picknode:"alterindex",groupkey:"",pickArea:"E",toteType:"M",pickerId:sessionStorage.getItem("userid"),storeCode:sessionStorage.getItem("storeCode"),masterCartCode:"*"},i=[],s=!1,c=0;c<t.getManualPickList.length;c++)!0===t.getManualPickList[c].checked&&(s=!0,a.deliNo=t.getManualPickList[c].deliNo,a.deliDetailSeq=t.getManualPickList[c].deliDetailSeq,a.qty=t.getManualPickList[c].qty,a.pickQty=t.getManualPickList[c].qty,a.totalPickQty=t.getManualPickList[c].qty,i.push(a));if(!s)return void d.a.fire({type:"error",title:"NG!",text:"선택된 항목이 없습니다!"});console.log(i),t.$store.dispatch("ManualStore/doPick",i).then((function(){t.getManualPicks()}))}}))})),i),mounted:function(){m.a.init();var t=function(t,e){this.el=t||{},this.multiple=e||!1;var a=this.el.find(".link");a.on("click",{el:this.el,multiple:this.multiple},this.dropdown)};t.prototype.dropdown=function(t){var e=t.data.el,a=h()(this),i=a.next();i.slideToggle(),a.parent().toggleClass("open"),t.data.multiple||e.find(".more").not(i).slideUp().parent().removeClass("open")};new t(h()(".accordion"),!0);window.document.addEventListener("click",this.onClickApp),h()("#deliDate").val(this.$moment().format("YYYY-MM-DD"))},computed:Object(o["a"])(Object(o["a"])({},Object(L["b"])("ManualStore",["isLoading","getManualPickList"])),Object(L["b"])("Authentication",["getOMS_DELI_ORDER","getOMS_DELI_METHOD"])),beforeCreate:function(){for(var t=["OMS_DELI_ORDER","OMS_DELI_METHOD"],e=0;e<t.length;e++)this.$store.dispatch("Authentication/getCode",t[e])}},O=D,x=(a("c83a"),a("2877")),w=Object(x["a"])(O,s,c,!1,null,"1c10d876",null);e["default"]=w.exports},c83a:function(t,e,a){"use strict";a("e522")},e522:function(t,e,a){}}]);
//# sourceMappingURL=chunk-c2e2cbbe.14ccaefa.js.map