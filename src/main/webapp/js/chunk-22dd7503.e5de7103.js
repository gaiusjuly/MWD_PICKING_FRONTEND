(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-22dd7503"],{"61c1":function(t,e,s){t.exports=s.p+"img/img-cart.23fdf87f.jpg"},a0ce:function(t,e,s){},f1a8:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFAAAABQCAYAAACOEfKtAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyNpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTQ4IDc5LjE2NDAzNiwgMjAxOS8wOC8xMy0wMTowNjo1NyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6MUY0QjI3REVBMUZGMTFFQkJDMkE5QzBFNkFBMzg0MEYiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6MUY0QjI3RERBMUZGMTFFQkJDMkE5QzBFNkFBMzg0MEYiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIDIxLjAgKFdpbmRvd3MpIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6OTlCNzU5RjFBMUFDMTFFQkJDQ0E5RjVBODBBODIzQzYiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6OTlCNzU5RjJBMUFDMTFFQkJDQ0E5RjVBODBBODIzQzYiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz483erRAAAFF0lEQVR42uycW2gVRxjHd00MvWiIpmq9VmtTKa1IveAFrCAWWkut1Aerby3VhyIUofSlRUtFhUJVEPVBRASLN5CUFFGo5NijtqaKIjaoEYwS6z3aWM1Joq7/L2eUw2FndncuJ7gzH/w4ZHZnz+R/Zr6Z+WZm/SAIPGfy1stJ4AR0Aj7PVg4qwAqwAPSJme8q2Ag22C6gj05kPT6XSOb/EmyxXcD/8fmyZP4GMNl2Ae8laLrF9gj0A/ds7kS2KuQvA9Ns70S+AffBQtBXcO+L4IWQ9BnggM1NOEmHsTkk/TCY7gSMthpwPiS9E1SBdjeQFlsTG/8VW4XNPXHSmcgfnPQZTkA1Ad9zAsazLCd9CmvKTsAIOwNuh6S/BCa6Xjie1YJPOM37rCW63QW/gNMyAi4FazxnXWCujIATwHGnX7edlBGQ5r+toNLp57XKRKQpAnPUaddtjbIh/UNOu27LyAqYddp1W70vuS5Mg+Y7bPxnq3WAfrI1kCIwxyyvffT/t6ssa9ruBzMyU7k4gQVr/J/sVK5w/nvH0iBCzssvpuVUauAD8Lelte8vJqLy1o6szc1Xh4C2diTP/L+vuD+wks2Ly2z0fzpqYBtFJGz1fzoEtNEP1hf+oUNA2/xgpvAPX8Me6Wpwk55lgXjtzP916KyBtMh0xpLa92eheLoEtMkP1hcn6BLQFj+YKU7wNZ0TGQz+Tbl4D5j/6zRRA2nTUVPKBTxSLJ5OAW1oxpmwRJ0CZm0U0Nd4Vu410JxS8e4z/9dlsgZeApdTKuDhMPF0C5hmP5jhXdAtYNY2AX3N54XHeOnb4kaHiPqDh6WogefA9RT6v4elasJke1Im4A7RRRMCfg/qUiDcY7AObBfd5Bt8Z8IQNkd+Xq0ljjvy3Usn1Mwd+XcC9qyVl+A73gVTwate/sjsLS9/0j0rGh4YtFFgFvvsDa6BC+B3NudNZuQDDVABvgLNAd9ug1WgylAZipkDTgjK0w62gZFJnmuioG+Bf4L4dh18YFC4/mBfgvLkwNc9JeBY0Bokty6wwIB4A0BjIGcrSy1gNbgQyFsHGK+xPGUgE6hZ5I+qsxf+CYxWyE8bNbdoHBnQKwpUzzFvAoNKMZAe6eUXlco5U6K9YJ+XX5ShHvkL1iOH2Vzwq2J5aLfYRTBcEHbb6eU3BbwDFoOBnHtXge9M98LfcppAJ/g45P63wQ1Onj0ayjNT0Cx/CLn/FdDAuf9iKXxgLefLfxbkmc/Jc1VDeZZxnn1IkOdN8IiTb4hpHzhUIhRU64WssxYMuFXsdU76bkEeeiPJiYT/nzYBeSc37wry0CadnKBDUbHenPT/IvLxrvcxLWALJ32SIE8NR3gStk2xPLc46eMjRB/HuXbFtIDnBMHVsPN0tJdwNSfPaerbFMtzipO+CLzBuUYn8QeEpFMruWy6F54t6PWOgYkF944AuwT3L9NQnsFsdhNmLeAj0IvdW8Xm5LwOpE70XbrGgTT+a2TNkmc3WKcx1OPvZs2xwbiOnV40zpsf4e/opNWwiKjUh2B/KaIx9Ks+Vpw6LddYnlH0cknF8tSVOpjwo0JhD7L5q87yfKbwozbFCbXpFpBcwlqJwu4HfQ2Fsz5nM6IkdpbV4B6JBxLz2C8YZRRUXWqg5hUzARyJGRFaByrjPtvkqhwNhj9lwYGnIf2nrwpoYAGDHRGDbd32PphXENKnYdxNFtL/zcu/jehSkge6ZU23KucEdALabE8EGAADEGHYxtxz5QAAAABJRU5ErkJggg=="},fb8a:function(t,e,s){"use strict";s("a0ce")},ff81:function(t,e,s){"use strict";s.r(e);var o=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("main-layout",[o("div",{staticClass:"section"},[o("div",{staticClass:"section-wrap basic-section-wrap"},[o("div",{staticClass:"picking-list-wrap d-flex"},[o("div",{staticClass:"row"},[o("div",{staticClass:"content-left"},[o("div",{staticClass:"scan-area"},[o("div",{staticClass:"scan-input"},[o("input",{directives:[{name:"model",rawName:"v-model",value:t.barcodeValue,expression:"barcodeValue"}],ref:"barcodeinput",attrs:{type:"text",placeholder:"토트박스를 스캔하세요."},domProps:{value:t.barcodeValue},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.barcodeaction(e)},input:function(e){e.target.composing||(t.barcodeValue=e.target.value)}}}),o("button",{staticClass:"ic-scan",attrs:{type:"button"}})])]),o("div",{staticClass:"table-lg table-nowrap p-t-30"},[o("table",[o("thead",[o("tr",[o("th",[t._v("주문번호")]),o("th",[t._v("주문자명")]),o("th",[t._v("토트박스")]),o("th")])]),t.getTotList.length>0?o("tbody",t._l(t.getTotList,(function(e,s){return o("tr",{key:s},[o("td",[t._v("#"+t._s(t.getTotList[s].orderCode.substring(9)))]),o("td",[t._v(t._s(t.getTotList[s].orderName))]),o("td",[o("span",{staticClass:"text-blue"},[t._v(t._s(t.getTotList[s].cartCode))])]),""!=t.getTotList[s].cartCode&&null!=t.getTotList[s].cartCode?o("td",[o("button",{staticClass:"btn btn-sm btn-primary",attrs:{type:"button"},on:{click:function(e){return t.deleteMasterTrDetail(t.getTotList[s].deliNo)}}},[t._v("삭제")])]):t._e()])})),0):t._e()]),o("div",{staticClass:"btn-area"},[o("button",{staticClass:"btn btn-lg btn-primary ic-arrow-right arrow-wh",attrs:{type:"button"},on:{click:t.movepicklist}},[t._v("다음단계")])])])]),o("div",{staticClass:"content-right"},[o("div",{staticClass:"open-modal cart-modal btn-cart",on:{click:t.openCart}},[o("li",[o("img",{attrs:{src:s("f1a8"),alt:"카트방향"}})]),o("li",[t._v("카트방향")])]),o("div",{staticClass:"tote-box-area"},[o("div",{staticClass:"tote-box-wrap tote-blue"},[o("div",{staticClass:"row"},[o("div",[t.getTotList.length>0?o("div",{staticClass:"tote-box"},[o("div",{staticClass:"tote-box-header"},[o("div",{staticClass:"tote-title"},[t._v(t._s(Number(t.getTotList[0].toteArea)+1))]),o("div",{staticClass:"tote-order"},[t._v("주문번호 : "),t.getTotList.length>0&&""!=t.getTotList[0].cartCode&&null!=t.getTotList[0].cartCode?o("span",{staticClass:"text-yw"},[t._v("#"+t._s(t.getTotList[0].orderCode.substring(9)))]):t._e()])]),o("div",{staticClass:"tote-box-body"},[o("span",{staticClass:"text-bk bold"},[t._v(t._s(t.getTotList[0].pickQty))]),t._v("/"+t._s(t.getTotList[0].qty)+" ")]),o("div",{staticClass:"tote-box-footer"},[o("li",[t._v("토트박스")]),o("li",[o("span",[t._v(t._s(t.getTotList[0].cartCode))])])])]):t._e()]),o("div",[t.getTotList.length>1?o("div",{staticClass:"tote-box"},[o("div",{staticClass:"tote-box-header"},[o("div",{staticClass:"tote-title"},[t._v(t._s(Number(t.getTotList[1].toteArea)+1))]),o("div",{staticClass:"tote-order"},[t._v("주문번호 : "),t.getTotList.length>1&&""!=t.getTotList[1].cartCode&&null!=t.getTotList[1].cartCode?o("span",{staticClass:"text-yw"},[t._v("#"+t._s(t.getTotList[1].orderCode.substring(9)))]):t._e()])]),o("div",{staticClass:"tote-box-body"},[o("span",{staticClass:"text-bk bold"},[t._v(t._s(t.getTotList[1].pickQty))]),t._v("/"+t._s(t.getTotList[1].qty)+" ")]),o("div",{staticClass:"tote-box-footer"},[o("li",[t._v("토트박스")]),o("li",[o("span",[t._v(t._s(t.getTotList[1].cartCode))])])])]):t._e()])])]),o("div",{staticClass:"tote-box-wrap tote-red"},[o("div",{staticClass:"row"},[o("div",[t.getTotList.length>2?o("div",{staticClass:"tote-box"},[o("div",{staticClass:"tote-box-header"},[o("div",{staticClass:"tote-title"},[t._v(t._s(Number(t.getTotList[2].toteArea)+1))]),o("div",{staticClass:"tote-order"},[t._v("주문번호 : "),t.getTotList.length>2&&""!=t.getTotList[2].cartCode&&null!=t.getTotList[2].cartCode?o("span",{staticClass:"text-yw"},[t._v("#"+t._s(t.getTotList[2].orderCode.substring(9)))]):t._e()])]),o("div",{staticClass:"tote-box-body"},[o("span",{staticClass:"text-bk bold"},[t._v(t._s(t.getTotList[2].pickQty))]),t._v("/"+t._s(t.getTotList[2].qty)+" ")]),o("div",{staticClass:"tote-box-footer"},[o("li",[t._v("토트박스")]),o("li",[o("span",[t._v(t._s(t.getTotList[2].cartCode))])])])]):t._e()]),o("div",[t.getTotList.length>3?o("div",{staticClass:"tote-box"},[o("div",{staticClass:"tote-box-header"},[o("div",{staticClass:"tote-title"},[t._v(t._s(Number(t.getTotList[3].toteArea)+1))]),o("div",{staticClass:"tote-order"},[t._v("주문번호 : "),t.getTotList.length>3&&""!=t.getTotList[3].cartCode&&null!=t.getTotList[3].cartCode?o("span",{staticClass:"text-yw"},[t._v("#"+t._s(t.getTotList[3].orderCode.substring(9)))]):t._e()])]),o("div",{staticClass:"tote-box-body"},[o("span",{staticClass:"text-bk bold"},[t._v(t._s(t.getTotList[3].pickQty))]),t._v("/"+t._s(t.getTotList[3].qty)+" ")]),o("div",{staticClass:"tote-box-footer"},[o("li",[t._v("토트박스")]),o("li",[o("span",[t._v(t._s(t.getTotList[3].cartCode))])])])]):t._e()])])]),o("div",{staticClass:"tote-box-wrap tote-green"},[o("div",{staticClass:"row"},[o("div",[t.getTotList.length>4?o("div",{staticClass:"tote-box"},[o("div",{staticClass:"tote-box-header"},[o("div",{staticClass:"tote-title"},[t._v(t._s(Number(t.getTotList[4].toteArea)+1))]),o("div",{staticClass:"tote-order"},[t._v("주문번호 : "),t.getTotList.length>4&&""!=t.getTotList[4].cartCode&&null!=t.getTotList[4].cartCode?o("span",{staticClass:"text-yw"},[t._v("#"+t._s(t.getTotList[4].orderCode.substring(9)))]):t._e()])]),t.getTotList.length>0?o("div",{staticClass:"tote-box-body"},[o("span",{staticClass:"text-bk bold"},[t._v(t._s(t.getTotList[4].pickQty))]),t._v("/"+t._s(t.getTotList[4].qty)+" ")]):t._e(),o("div",{staticClass:"tote-box-footer"},[o("li",[t._v("토트박스")]),o("li",[o("span",[t._v(t._s(t.getTotList[4].cartCode))])])])]):t._e()]),o("div",[t.getTotList.length>5?o("div",{staticClass:"tote-box"},[o("div",{staticClass:"tote-box-header"},[o("div",{staticClass:"tote-title"},[t._v(t._s(Number(t.getTotList[5].toteArea)+1))]),o("div",{staticClass:"tote-order"},[t._v("주문번호 : "),t.getTotList.length>5&&""!=t.getTotList[5].cartCode&&null!=t.getTotList[5].cartCode?o("span",{staticClass:"text-yw"},[t._v("#"+t._s(t.getTotList[5].orderCode.substring(9)))]):t._e()])]),o("div",{staticClass:"tote-box-body"},[o("span",{staticClass:"text-bk bold"},[t._v(t._s(t.getTotList[5].pickQty))]),t._v("/"+t._s(t.getTotList[5].qty)+" ")]),o("div",{staticClass:"tote-box-footer"},[o("li",[t._v("토트박스")]),o("li",[o("span",[t._v(t._s(t.getTotList[5].cartCode))])])])]):t._e()])])])])])])])]),o("cart-box",{on:{"modal-close":t.cartclose}})],1)])},i=[],a=s("5530");s("a4d3"),s("e01a"),s("d3b7"),s("d28b"),s("3ca3"),s("ddb0");function r(t){return r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}s("c740"),s("a9e3"),s("ac1f"),s("1276");var n=s("2ef0"),c=s.n(n),l=s("1157"),d=s.n(l),g=s("f579"),v=s.n(g),u=s("3d20"),b=s.n(u),p=s("8e31"),C=s("2040"),f=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"modal for-tote-box-modal",attrs:{id:"for-cart-modal"}},[s("div",{staticClass:"layer"},[s("div",{staticClass:"layer-content"},[s("div",{staticClass:"modal-inner modal-sm"},[s("div",{staticClass:"modal-close",on:{click:t.modalclose}}),t._m(0)])])])])},h=[function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"modal-content"},[o("div",{staticClass:"cart-info-area"},[o("div",{staticClass:"cart-info-img"},[o("img",{attrs:{src:s("61c1"),alt:"카트방향"}})]),o("div",{staticClass:"cart-info-text"},[t._v(" 카트 손잡이 방향 ")])])])}],A={name:"CartBox",props:{},components:{},data:function(){return{}},methods:{modalclose:function(){this.$emit("modal-close")}}},L=A,T=s("2877"),k=Object(T["a"])(L,f,h,!1,null,"4a74a0a2",null),y=k.exports,_=s("2f62"),m=s("f497"),x={name:"totAssign",components:{barcode:v.a,MainLayout:p["a"],Loader:C["a"],CartBox:y},mixins:[m["a"]],data:function(){return{barcodeValue:"",totList:[]}},methods:{openCart:function(){d()("#for-cart-modal").fadeIn(300)},cartclose:function(){d()(".modal").fadeOut(300),d()("body").css("overflow","visible")},movepicklist:function(){for(var t=this,e=this.getTotList,s=0;s<e.length;s++)if(""===e[s].cartCode||null===e[s].cartCode){var o=function(){var e=t.$refs;return b.a.fire({type:"error",title:"NG!",text:"토트박스 할당이 누락되었습니다!",onAfterClose:function(){e.barcodeinput.focus()}}),{v:void 0}}();if("object"===r(o))return o.v}var i={groupkey:this.groupkey,pickArea:this.getTotList[0].pickArea,pickerId:sessionStorage.getItem("userid")};this.$store.dispatch("PickStore/putMoveStatusProductScan",i).then((function(){t.changeRoute("picking",t.groupkey)}))},barcodeaction:function(t){var e=this;console.log(t.target.value);var s=this.getTotList,o=-1;if(c.a.findIndex(s,(function(e){e.cartCode===t.target.value&&(o=0)})),console.log("scan code in list ",o),-1!==o)return this.barcodeValue="",void b.a.fire({type:"error",title:"NG!",text:"이미 할당된 토트박스입니다!",onAfterClose:function(){e.$refs.barcodeinput.focus()}});var i=this.findCartPosition();console.log("toteArea",i);var a=s[i-1].deliNo,r={groupkey:this.groupkey,cartcode:this.barcodeValue,pickArea:this.pickArea,deliNo:a,nextMasterToteArea:i};console.log(r),this.$store.dispatch("PickStore/putMasterTrDetail",r).then((function(){console.log("putMasterTrDetail invoking end")})),console.log("Cart number has been assigned!"),this.setBarcode()},findCartPosition:function(){for(var t=this.getTotList,e=0;e<t.length;e++)if(console.log(t[e].cartCode),null===t[e].cartCode||""===t[e].cartCode)return e+1},getHasAssignInfoTot:function(t){var e=this;console.log("Checking already to assign cart number on box");var s=c.a.findIndex(this.totList,(function(e){return e.cartCode===t.cartcode}));console.log("alreadycartnumberindex",s),-1===s?(console.log("Cart number assign param",t),this.$store.dispatch("PickStore/getHasassigntot",t).then((function(){if(console.log(e.$store.state.PickStore.data.hasAssigntot),Number(e.$store.state.PickStore.data.hasAssigntot)>0){e.$refs;b.a.fire({type:"error",title:"NG!",text:"이미 할당된 토트박스입니다!",onAfterClose:function(){e.$refs.barcodeinput.focus()}})}else e.getAssignDelivelyInfo(t)})),console.log("validation 1 end")):b.a.fire({type:"error",title:"NG!",text:"이미 할당된 토트박스입니다!",onAfterClose:function(){e.$refs.barcodeinput.focus()}})},getAssignDelivelyInfo:function(t){var e=this;console.log("validation 2"),console.log("getAssignDeliveryinfo invoking start"),this.$store.dispatch("PickStore/getAssignDeliveryinfo",t.groupkey).then((function(){if(console.log("getAssignDeliveryinfo invoking end"),console.log(e.$store.state.PickStore.data.assignDeliveryinfo),e.$store.state.PickStore.data.assignDeliveryinfo.length<1){e.$refs;b.a.fire({type:"error",title:"NG!",text:"작업대상이 없습니다!",onAfterClose:function(){e.$refs.barcodeinput.focus()}})}else e.putMasterTrDetail(t)})),console.log("validation 2 end")},putMasterTrDetail:function(t){console.log("validation 3"),console.log("putMasterTrDetail invoking start",this.$store.state.PickStore.data.assignDeliveryinfo),t.deliNo=this.$store.state.PickStore.data.assignDeliveryinfo[0].DELI_NO,t.nextMasterToteArea=this.$store.state.PickStore.data.assignDeliveryinfo[0].NEXT_MASTER_TOTE_AREA,t.groupkey=this.groupkey,this.$store.dispatch("PickStore/putMasterTrDetail",t).then((function(){console.log("putMasterTrDetail invoking end")})),console.log("validation 3 end"),this.setBarcode()},deleteMasterTrDetail:function(t){var e=this;console.log("deleteMasterTrDetail invoking start");var s={};s.deliNo=t,s.groupkey=this.groupkey,console.log(s),this.$store.dispatch("PickStore/deleteMasterTrDetail",s).then((function(){console.log("deleteMasterTrDetail invoking end");for(var s=0;s<e.$store.state.PickStore.data.totList.length;s++)e.$store.state.PickStore.data.totList[s].deliNo===t&&(e.$store.state.PickStore.data.totList[s].cartCode="");e.$store.dispatch("PickStore/setTotList",e.$store.state.PickStore.data.totList)})),console.log("deleteMasterTrDetail end"),this.$refs.barcodeinput.focus()},setBarcode:function(){var t=this.getTotList;console.log(t);for(var e=0;e<t.length;e++)if(""===t[e].cartCode||null===t[e].cartCode){t[e].cartCode=this.barcodeValue;break}console.log("After tote scan being done",t),this.barcodeValue="",console.log("*** validation end ***")}},computed:Object(a["a"])(Object(a["a"])({},Object(_["b"])("PickStore",["getTotList"])),{},{groupkey:function(){return this.$route.params.id.split(".")[0]},pickArea:function(){return this.$route.params.id.split(".")[1]}}),mounted:function(){var t=this;console.log("groupkey",this.$route.params.id.split(".")[0]),console.log("pickArea",this.$route.params.id.split(".")[1]);var e={groupkey:this.groupkey,pickArea:this.pickArea};this.$store.dispatch("PickStore/getTots",e).then((function(){console.log(t.$store.state.PickStore.data.totList),t.$refs.barcodeinput.focus()}))},beforeCreate:function(){for(var t=["OMS_STATUS","OMS_DELI_DIV","OMS_DELI_ORDER","OMS_DELI_METHOD","OMS_PICK_AREA"],e=0;e<t.length;e++)this.$store.dispatch("Authentication/getCode",t[e])}},w=x,N=(s("fb8a"),Object(T["a"])(w,o,i,!1,null,"35a50d6e",null));e["default"]=N.exports}}]);
//# sourceMappingURL=chunk-22dd7503.e5de7103.js.map